!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},n.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var a,o;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var r={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},o=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var o={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),o[e]=t),t}})),r("iE7OH").register(JSON.parse('{"2Y0K8":"library.d031af4a.js","1sXxD":"noimage.abcafdb5.jpg","5UbS1":"index.8981a3f2.css","7nwxg":"library.9d640c99.js"}'));var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var i=r("dCfNN"),c=r("b7ONl"),l=r("Dfy6j"),s=r("j2NRO"),u=r("UL92Z"),m=(u=r("UL92Z"),"watched");u=r("UL92Z"),u=r("UL92Z");var f="queue";var v;v=r("aNJCr").getBundleURL("2Y0K8")+r("iE7OH").resolve("1sXxD");var g=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function b(e){var n=g.slice(0,2).map((function(e){return" ".concat(e.name)}));return g.length>2&&n.push("...other"),e.map((function(e){var a=e.poster_path,o=e.release_date,r=e.title,d=e.id,i=a?"https://image.tmdb.org/t/p/w500/".concat(a):t(v);return""===o&&(o="None"),'<li class="gallery-item">\n                    <div class="gallery-container-img" data-id=\''.concat(d,"'>\n                    <div class=\"gallery-card\" data-id='").concat(d,'\'>\n                        <img class="gallery-img" src="').concat(i,'" alt="').concat(r,'">\n                        </div>\n                        <div class="gallery-film" data-id=\'').concat(d,'\'>\n                        <h3 class="film-title">').concat(r,'\n                        </h3>\n                        <span class="film-genres">').concat(n,'</span><span class="film-year"> | ').concat(o.slice(0,4),"</span></div>\n                    </div>\n                </li>")})).join("")}var h=t(d)({searchFormEl:document.querySelector(".form-search"),galleryContainerEl:document.querySelector(".gallery-container"),aboutTeamBtn:document.querySelector(".about-team"),backdropMovieModal:document.querySelector(".backdrop"),movieModalEl:document.querySelector("div[data-movie-modal]"),modalCloseBtn:document.querySelector("button[data-movie-modal-close]"),addToWatchedBtn:document.querySelector("button[data-btn-to-watched]"),addToQueueBtn:document.querySelector("button[data-btn-to-queue]"),removeFromWatchedBtn:document.querySelector(".remove-from-watched-btn"),removeFromQueueBtn:document.querySelector(".remove-from-queue-btn"),btnUpEl:document.querySelector(".btn-up"),bodyLibEl:document.querySelector(".body-lib"),galleryLibListEl:document.querySelector(".gallery-lib-list"),movieModalFilmInfoEl:document.querySelector(".js-film-info")},"bodyLibEl",document.querySelector(".body-lib")),y=document.querySelector(".header"),L=document.querySelector(".header-container"),p=document.querySelector(".header-logo"),S=document.querySelector(".header-text-logo"),w=(document.querySelector(".icon-film"),y.offsetTop);window.addEventListener("scroll",(function(){window.pageYOffset>w?(y.classList.add("fixed"),L.classList.add("fixed-header"),p.classList.add("fixed-logo"),S.classList.add("text-logo-fixed")):(y.classList.remove("fixed"),L.classList.remove("fixed-header"),L.classList.remove("fixed-header-dark"),p.classList.remove("fixed-logo")),window.pageYOffset>w&&"dark"===localStorage.theme&&L.classList.add("fixed-header-dark")})),h.btnUpEl.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",t(i)((function(){(window.scrollY||document.documentElement.scrollTop)>400?h.btnUpEl.classList.remove("btn-up_hide"):h.btnUpEl.classList.add("btn-up_hide")}),500));var q=document.querySelector(".btn-theme"),E=document.querySelector(".header-container"),k=document.querySelector(".btn-icon-moon"),M=document.querySelector(".btn-icon-sun");function x(){document.body.classList.add("dark"),M.classList.remove("btn-icon-hidden"),k.classList.add("btn-icon-hidden"),E.classList.remove("header-container"),E.classList.add("header-container-dark"),localStorage.theme="dark"}q.addEventListener("click",(function(){document.body.classList.contains("dark")?(document.body.classList.remove("dark"),k.classList.remove("btn-icon-hidden"),M.classList.add("btn-icon-hidden"),E.classList.remove("header-container-dark"),E.classList.add("header-container"),localStorage.theme="light"):x(),"dark"===localStorage.theme&&window.pageYOffset>w?L.classList.add("fixed-header-dark"):L.classList.remove("fixed-header-dark")})),"dark"===localStorage.theme&&x(),h.movieModalEl.addEventListener("click",(function(e){var t=document.querySelector(".js-film-info__btns"),n=document.querySelector(".gallery-item");"add-to-watched"===e.target.dataset.watchedBtn?F.then((function(a){var o=(0,u.loadLocalStorage)(m);o.forEach((function(e){Number(e.id)===Number(a.id)&&n.remove()})),o.push(a),(0,u.saveLocalStorage)(m,o),e.target.textContent="Remove from watched",e.target.dataset.watchedBtn="remove-from-watched",e.target.classList.add("active-btn"),t.children[1].classList.remove("active-btn")})).catch((function(e){console.log(e)})):"remove-from-watched"===e.target.dataset.watchedBtn&&F.then((function(n){var a=(0,u.loadLocalStorage)(m),o=a.findIndex((function(e){return Number(e.id)===Number(n.id)}));a.splice(o,1),localStorage.removeItem(m),(0,u.saveLocalStorage)(m,a),e.target.textContent="Add to watched",e.target.dataset.watchedBtn="add-to-watched",e.target.classList.add("active-btn"),t.children[1].classList.remove("active-btn")})).catch((function(e){console.log(e)}))})),h.movieModalEl.addEventListener("click",(function(e){var t=document.querySelector(".js-film-info__btns");document.querySelector(".gallery-item"),"add-to-queue"===e.target.dataset.queueBtn?F.then((function(n){var a=(0,u.loadLocalStorage)(f);a.push(n),(0,u.saveLocalStorage)(f,a),e.target.textContent="Remove from queue",e.target.dataset.queueBtn="remove-from-queue",e.target.classList.add("active-btn"),t.children[0].classList.remove("active-btn")})).catch((function(e){console.log(e)})):"remove-from-queue"===e.target.dataset.queueBtn&&F.then((function(n){var a=(0,u.loadLocalStorage)(f),o=a.findIndex((function(e){return Number(e.id)===Number(n.id)}));a.splice(o,1),localStorage.removeItem(f),(0,u.saveLocalStorage)(f,a),e.target.textContent="Add to queue",e.target.dataset.queueBtn="add-to-queue",e.target.classList.add("active-btn"),t.children[0].classList.remove("active-btn")})).catch((function(e){console.log(e)}))}));var N=document.querySelector(".watched-btn"),_=document.querySelector(".queue-btn"),H=document.querySelector(".gallery-lib-list"),O=document.querySelector(".library-container");N.addEventListener("click",j),_.addEventListener("click",(function(){if(B=JSON.parse(localStorage.getItem("queue"))||[],O.style.display="none",B.length<=0)return O.style.display="block",void(H.innerHTML="");var e=b(B);H.innerHTML=e,(0,s.renderTrailerMarkup)(T)}));var T=[],B=[];function j(){if(O.style.display="none",(T=JSON.parse(localStorage.getItem("watched"))||[]).length<=0)return O.style.display="block",void(H.innerHTML="");var e=b(T);console.log(T),H.innerHTML=e,(0,s.renderTrailerMarkup)(T)}j();var C=null,F=null;function U(e){"backdrop"!==e.target.className&&"modal__close-btn"!==e.target.classList[0]&&"icon-close"!==e.target.classList[0]&&"svg-icon-close"!==e.target.classList[0]&&"Escape"!==e.code||(h.backdropMovieModal.classList.add("is-hidden"),h.movieModalEl.classList.add("is-hidden"),h.bodyLibEl.style.overflow="scroll",h.backdropMovieModal.removeEventListener("click",U),window.removeEventListener("keydown",U))}h.backdropMovieModal.addEventListener("click",U),window.addEventListener("keydown",U),h.galleryLibListEl.addEventListener("click",(function(e){if(function(e){if("DIV"===e.target.nodeName)return void(C=e.target.dataset.id);C=e.target.parentElement.dataset.id}(e),"IMG"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"SPAN"!==e.target.nodeName)return;F=(0,c.fetchDataById)(C).then((function(e){h.backdropMovieModal.classList.remove("is-hidden"),h.movieModalEl.classList.remove("is-hidden"),h.backdropMovieModal.addEventListener("click",U),window.addEventListener("keydown",U);var t=(0,l.createMoveModalMarkup)(e,C);return h.movieModalFilmInfoEl.innerHTML=t,h.bodyLibEl.style.overflow="hidden",e})).catch((function(e){return console.log(e)}))}))}();
//# sourceMappingURL=library.d031af4a.js.map
