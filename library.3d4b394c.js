function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var d=a("9OeKo"),r=a("7rYDH"),i=a("dbKnH"),l=a("boIUg");let c="https://image.tmdb.org/t/p/w400";const s=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function m(e){const t=s.slice(0,2).map((e=>` ${e.name}`));return s.length>2&&t.push("...other"),e.map((({poster_path:e,release_date:o,title:n,id:a})=>(c="https://image.tmdb.org/t/p/w400",null===e&&(c="",e="https://img.freepik.com/premium-vector/default-image-icon-vector-missing-picture-page-for-website-design-or-mobile-app-no-photo-available_87543-11093.jpg?w=1480"),""===o&&(o="None"),`<li class="gallery-item">\n                    <div class="gallery-container-img" data-id='${a}'>\n                    <div class="gallery-card" data-id='${a}'>\n                        <img class="gallery-img" src="${c}${e}" alt="${n}">\n                        </div>\n                        <div class="gallery-film" data-id='${a}'>\n                        <h3 class="film-title">${n}\n                        </h3>\n                        <span class="film-genres">${t}</span><span class="film-year"> | ${o.slice(0,4)}</span></div>\n                    </div>\n                </li>`))).join("")}const u={searchFormEl:document.querySelector(".form-search"),galleryContainerEl:document.querySelector(".gallery-container"),aboutTeamBtn:document.querySelector(".about-team"),backdropMovieModal:document.querySelector(".backdrop"),movieModalEl:document.querySelector("div[data-movie-modal]"),modalCloseBtn:document.querySelector("button[data-movie-modal-close]"),addToWatchedBtn:document.querySelector("button[data-btn-to-watched]"),addToQueueBtn:document.querySelector("button[data-btn-to-queue]"),removeFromWatchedBtn:document.querySelector(".remove-from-watched-btn"),removeFromQueueBtn:document.querySelector(".remove-from-queue-btn"),btnUpEl:document.querySelector(".btn-up"),bodyLibEl:document.querySelector(".body-lib"),galleryLibListEl:document.querySelector(".gallery-lib-list"),movieModalFilmInfoEl:document.querySelector(".js-film-info")},y=document.querySelector(".header"),v=document.querySelector(".header-container"),f=document.querySelector(".header-logo"),g=document.querySelector(".header-text-logo");document.querySelector(".icon-film");let p=y.offsetTop;window.addEventListener("scroll",(function(){window.pageYOffset>p?(y.classList.add("fixed"),v.classList.add("fixed-header"),f.classList.add("fixed-logo"),g.classList.add("text-logo-fixed")):(y.classList.remove("fixed"),v.classList.remove("fixed-header"),v.classList.remove("fixed-header-dark"),f.classList.remove("fixed-logo")),window.pageYOffset>p&&"dark"===localStorage.theme&&v.classList.add("fixed-header-dark")})),u.btnUpEl.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",e(d)((()=>{(window.scrollY||document.documentElement.scrollTop)>400?u.btnUpEl.classList.remove("btn-up_hide"):u.btnUpEl.classList.add("btn-up_hide")}),500));const b=document.querySelector(".btn-theme"),h=document.querySelector(".header-container"),L=document.querySelector(".btn-icon-moon"),w=document.querySelector(".btn-icon-sun");function k(){document.body.classList.add("dark"),w.classList.remove("btn-icon-hidden"),L.classList.add("btn-icon-hidden"),h.classList.remove("header-container"),h.classList.add("header-container-dark"),localStorage.theme="dark"}b.addEventListener("click",(()=>{document.body.classList.contains("dark")?(document.body.classList.remove("dark"),L.classList.remove("btn-icon-hidden"),w.classList.add("btn-icon-hidden"),h.classList.remove("header-container-dark"),h.classList.add("header-container"),localStorage.theme="light"):k(),"dark"===localStorage.theme&&window.pageYOffset>p?v.classList.add("fixed-header-dark"):v.classList.remove("fixed-header-dark")})),"dark"===localStorage.theme&&k();const S=document.querySelector(".watched-btn"),E=document.querySelector(".queue-btn"),q=document.querySelector(".gallery-lib-list"),M=document.querySelector(".library-container");S.addEventListener("click",N),E.addEventListener("click",(function(){if(T=JSON.parse(localStorage.getItem("queue"))||[],M.style.display="none",T.length<=0)return M.style.display="block",void(q.innerHTML="");const e=m(T);q.innerHTML=e,(0,l.renderTrailerMarkup)(x)}));let x=[],T=[];function N(){if(M.style.display="none",x=JSON.parse(localStorage.getItem("watched"))||[],x.length<=0)return M.style.display="block",void(q.innerHTML="");const e=m(x);console.log(x),q.innerHTML=e,(0,l.renderTrailerMarkup)(x)}N();let _=null,H=null;function $(e){"backdrop"!==e.target.className&&"modal__close-btn"!==e.target.classList[0]&&"icon-close"!==e.target.classList[0]&&"svg-icon-close"!==e.target.classList[0]&&"Escape"!==e.code||(u.backdropMovieModal.classList.add("is-hidden"),u.movieModalEl.classList.add("is-hidden"),u.bodyLibEl.style.overflow="scroll",u.backdropMovieModal.removeEventListener("click",$),window.removeEventListener("keydown",$))}u.backdropMovieModal.addEventListener("click",$),window.addEventListener("keydown",$),u.galleryLibListEl.addEventListener("click",(function(e){if(function(e){if("DIV"===e.target.nodeName)return void(_=e.target.dataset.id);_=e.target.parentElement.dataset.id}(e),"IMG"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"SPAN"!==e.target.nodeName)return;H=(0,r.fetchDataById)(_).then((e=>{u.backdropMovieModal.classList.remove("is-hidden"),u.movieModalEl.classList.remove("is-hidden"),u.backdropMovieModal.addEventListener("click",$),window.addEventListener("keydown",$);const t=(0,i.createMoveModalMarkup)(e,_);return u.movieModalFilmInfoEl.innerHTML=t,u.bodyLibEl.style.overflow="hidden",e})).catch((e=>console.log(e)))}));
//# sourceMappingURL=library.3d4b394c.js.map
