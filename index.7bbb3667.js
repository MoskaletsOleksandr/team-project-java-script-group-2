function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};const n=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function o({results:t}){return t.map((({poster_path:t,genre_ids:e,release_date:o,title:i,id:a})=>{let l=function(t){const e=[];for(const o of t)n.forEach((t=>{t.id===o&&e.push(` ${t.name}`)}));return e}(e);return l=function(t){if(t.length>2){let e=t.slice(0,2);return e.push(" ...other"),e}return t}(l),`<li class="gallery-item">\n                    <div class="gallery-container-img"\n                    <div class="gallery-card" data-id='${a}'>\n                        <img class="gallery-img" src="https://image.tmdb.org/t/p/w400${t}" alt="${i}">\n                        <button class="trailer-button" type="button">Trailer</button> \n                        </div>\n                        <div class="gallery-film">\n                        <h3 class="film-title">${i}\n                        </h3>\n                        <span class="film-genres">${l}</span><span class="film-year"> | ${o.slice(0,4)}</span></div>\n                    </div>\n                </li>`})).join("")}async function i(t){const e=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=18d2ef0015120b4f2a7b992abe7c1251`);if(!e.ok)throw new Error(e.statusText);return await e.json()}var a,l=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,m=u||f||Function("return this")(),p=Object.prototype.toString,v=Math.max,b=Math.min,g=function(){return m.Date.now()};function y(t,e,n){var o,i,a,l,r,s,d=0,c=!1,u=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=o,a=i;return o=i=void 0,d=e,l=t.apply(a,n)}function p(t){return d=t,r=setTimeout(w,e),c?m(t):l}function y(t){var n=t-s;return void 0===s||n>=e||n<0||u&&t-d>=a}function w(){var t=g();if(y(t))return j(t);r=setTimeout(w,function(t){var n=e-(t-s);return u?b(n,a-(t-d)):n}(t))}function j(t){return r=void 0,f&&o?m(t):(o=i=void 0,l)}function E(){var t=g(),n=y(t);if(o=arguments,i=this,s=t,n){if(void 0===r)return p(s);if(u)return r=setTimeout(w,e),m(s)}return void 0===r&&(r=setTimeout(w,e)),l}return e=_(e)||0,h(n)&&(c=!!n.leading,a=(u="maxWait"in n)?v(_(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==r&&clearTimeout(r),d=0,o=s=i=r=void 0},E.flush=function(){return void 0===r?l:j(g())},E}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==p.call(t)}(t))return NaN;if(h(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=h(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=s.test(t);return n||d.test(t)?c(t.slice(2),n?2:8):r.test(t)?NaN:+t}a=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return h(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),y(t,e,{leading:o,maxWait:e,trailing:i})};const w={searchFormEl:document.querySelector(".form-search"),galleryContainerEl:document.querySelector(".gallery-container"),galleryListEl:document.querySelector(".gallery-list"),aboutTeamBtn:document.querySelector(".about-team"),btnUpEl:document.querySelector(".btn-up"),backdropMovieModal:document.querySelector(".backdrop"),movieModalEl:document.querySelector("div[data-movie-modal]"),movieModalFilmInfoEl:document.querySelector(".js-film-info"),modalCloseBtn:document.querySelector("button[data-movie-modal-close]"),addToWatchedBtn:document.querySelector("button[data-btn-to-watched]"),addToQueueBtn:document.querySelector("button[data-btn-to-queue]")};let j=null,E=null;w.btnUpEl.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",t(a)((()=>{(window.scrollY||document.documentElement.scrollTop)>400?w.btnUpEl.classList.remove("btn-up_hide"):w.btnUpEl.classList.add("btn-up_hide")}),500)),async function(){const t=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=18d2ef0015120b4f2a7b992abe7c1251");if(!t.ok)throw new Error(t.statusText);return await t.json()}().then((t=>{!function(t){const e=o(t);w.galleryListEl.insertAdjacentHTML("beforeend",e)}(t)})).catch((t=>console.log(t))),w.backdropMovieModal.addEventListener("click",T),window.addEventListener("keydown",T),w.galleryContainerEl.addEventListener("click",(function(t){(function(t){if("IMG"!==t.target.nodeName&&"DIV"!==t.target.nodeName&&"H3"!==t.target.nodeName&&"SPAN"!==t.target.nodeName)return;if("DIV"===t.target.nodeName)return j=t.target.dataset.id,void console.log(j);j=t.target.parentElement.dataset.id,console.log(j)})(t),E=i(j).then((t=>{console.log(t),w.backdropMovieModal.classList.remove("is-hidden"),w.movieModalEl.classList.remove("is-hidden"),w.backdropMovieModal.addEventListener("click",T),window.addEventListener("keydown",T);const{poster_path:e,title:n,vote_average:o,vote_count:i,popularity:a,original_title:l,genres:r,overview:s}=t;return w.movieModalFilmInfoEl.innerHTML=`\n                   <div class="js-film-info__thumb">\n                     <img\n                       src="https://image.tmdb.org/t/p/original${e}"\n                       alt="${n}"\n                       width="240"\n                       class="js-film-info__poster"\n                     />\n                  </div>\n                  <div class="js-film-info__content">\n                    <h2 class="js-film-info__name">${n}</h2>\n                    <table class="js-film-info__table-thumb">\n                      <tr class="js-film-info__item">\n                        <td class="js-film-info__title">Vote / Votes</td>\n                        <td>\n                          <span class="js-film-info__vote">${o}</span>\n                          <span class="slash">/</span>\n                          <span class="js-film-info__votes">${i}</span>\n                        </td>\n                      </tr>\n                      <tr class="js-film-info__item">\n                        <td class="js-film-info__title">Popularity</td>\n                        <td class="js-film-info__popularity">${a}</td>\n                      </tr>\n                      <tr class="js-film-info__item">\n                        <td class="js-film-info__title">Original Title</td>\n                        <td class="js-film-info__original-title">${l}</td>\n                      </tr>\n                      <tr class="js-film-info__item">\n                        <td class="js-film-info__title">Genre</td>\n                        <td class="js-film-info__genre">${r}</td>\n                      </tr>\n                    </table>\n                    <h3 class="js-film-info__description-title">About</h3>\n                    <p class="js-film-info__description-text">${s}\n                    </p>\n                    <div class="js-film-info__btns">\n                      <button\n                        type="button"\n                        class="js-film-info__btn active-btn"\n                        data-btn-to-watched\n                      >\n                        add to Watched\n                      </button>\n                      <button type="button" class="js-film-info__btn" data-btn-to-queue>\n                        add to queue\n                      </button>\n                    </div>\n                  </div>`})).catch((t=>console.log(t))),function(){if(localStorage.watched||localStorage.queue){const t=localStorage.getItem("watched");JSON.parse(t).map((t=>{const{id:e}=t;e===Number(j)?w.addToWatchedBtn.textContent="Remove from watch":w.addToWatchedBtn.textContent="Add to watch"}));const e=localStorage.getItem("queue");JSON.parse(e).map((t=>{const{id:e}=t;e===Number(j)?w.addToQueueBtn.textContent="Add to Queue":w.addToQueueBtn.textContent="Remove from Queue"}))}else{let t=[];localStorage.setItem("watched",JSON.stringify(t)),localStorage.setItem("queue",JSON.stringify(t)),w.addToWatchedBtn.textContent="Add to watch",w.addToQueueBtn.textContent="Add to Queue"}}()}));function T(t){"backdrop"!==t.target.className&&"modal__close"!==t.target.classList[0]&&"icon-close"!==t.target.classList[0]&&"svg-icon-close"!==t.target.classList[0]&&"Escape"!==t.code||(w.backdropMovieModal.classList.add("is-hidden"),w.movieModalEl.classList.add("is-hidden"),w.backdropMovieModal.removeEventListener("click",T),window.removeEventListener("keydown",T))}
//# sourceMappingURL=index.7bbb3667.js.map
