function e(e,t,o,a){Object.defineProperty(e,t,{get:o,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=o.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},o.parcelRequired7c6=r),r.register("kyEFX",(function(t,o){var a,n;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var r={};a=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)r[t[o]]=e[t[o]]},n=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"1zJhX":"library.39bb7d3e.js","i2NY3":"noimage.abcafdb5.jpg","5UbS1":"index.8981a3f2.css","eM9ss":"library.99c6502a.js"}'));var d=r("9OeKo"),i=r("7rYDH"),c=r("dbKnH"),l=r("boIUg"),s=r("31u3U");s=r("31u3U");s=r("31u3U"),s=r("31u3U");var u;u=new URL(r("kyEFX").resolve("i2NY3"),import.meta.url).toString();const m=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function v(e){const o=m.slice(0,2).map((e=>` ${e.name}`));return m.length>2&&o.push("...other"),e.map((({poster_path:e,release_date:a,title:n,id:r})=>(""===a&&(a="None"),`<li class="gallery-item">\n                    <div class="gallery-container-img" data-id='${r}'>\n                    <div class="gallery-card" data-id='${r}'>\n                        <img class="gallery-img" src="${e?`https://image.tmdb.org/t/p/w500/${e}`:t(u)}" alt="${n}">\n                        </div>\n                        <div class="gallery-film" data-id='${r}'>\n                        <h3 class="film-title">${n}\n                        </h3>\n                        <span class="film-genres">${o}</span><span class="film-year"> | ${a.slice(0,4)}</span></div>\n                    </div>\n                </li>`))).join("")}const g={searchFormEl:document.querySelector(".form-search"),galleryContainerEl:document.querySelector(".gallery-container"),aboutTeamBtn:document.querySelector(".about-team"),backdropMovieModal:document.querySelector(".backdrop"),movieModalEl:document.querySelector("div[data-movie-modal]"),modalCloseBtn:document.querySelector("button[data-movie-modal-close]"),addToWatchedBtn:document.querySelector("button[data-btn-to-watched]"),addToQueueBtn:document.querySelector("button[data-btn-to-queue]"),removeFromWatchedBtn:document.querySelector(".remove-from-watched-btn"),removeFromQueueBtn:document.querySelector(".remove-from-queue-btn"),btnUpEl:document.querySelector(".btn-up"),bodyLibEl:document.querySelector(".body-lib"),galleryLibListEl:document.querySelector(".gallery-lib-list"),movieModalFilmInfoEl:document.querySelector(".js-film-info"),bodyLibEl:document.querySelector(".body-lib")},b=document.querySelector(".header"),f=document.querySelector(".header-container"),h=document.querySelector(".header-logo"),y=document.querySelector(".header-text-logo");document.querySelector(".icon-film");let L=b.offsetTop;window.addEventListener("scroll",(function(){window.pageYOffset>L?(b.classList.add("fixed"),f.classList.add("fixed-header"),h.classList.add("fixed-logo"),y.classList.add("text-logo-fixed")):(b.classList.remove("fixed"),f.classList.remove("fixed-header"),f.classList.remove("fixed-header-dark"),h.classList.remove("fixed-logo")),window.pageYOffset>L&&"dark"===localStorage.theme&&f.classList.add("fixed-header-dark")})),g.btnUpEl.addEventListener("click",(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})})),window.addEventListener("scroll",t(d)((()=>{(window.scrollY||document.documentElement.scrollTop)>400?g.btnUpEl.classList.remove("btn-up_hide"):g.btnUpEl.classList.add("btn-up_hide")}),500));const p=document.querySelector(".btn-theme"),S=document.querySelector(".header-container"),w=document.querySelector(".btn-icon-moon"),q=document.querySelector(".btn-icon-sun");function E(){document.body.classList.add("dark"),q.classList.remove("btn-icon-hidden"),w.classList.add("btn-icon-hidden"),S.classList.remove("header-container"),S.classList.add("header-container-dark"),localStorage.theme="dark"}p.addEventListener("click",(()=>{document.body.classList.contains("dark")?(document.body.classList.remove("dark"),w.classList.remove("btn-icon-hidden"),q.classList.add("btn-icon-hidden"),S.classList.remove("header-container-dark"),S.classList.add("header-container"),localStorage.theme="light"):E(),"dark"===localStorage.theme&&window.pageYOffset>L?f.classList.add("fixed-header-dark"):f.classList.remove("fixed-header-dark")})),"dark"===localStorage.theme&&E(),g.movieModalEl.addEventListener("click",(function(e){const t=document.querySelector(".js-film-info__btns"),o=document.querySelector(".gallery-item");"add-to-watched"===e.target.dataset.watchedBtn?B.then((a=>{const n=(0,s.loadLocalStorage)("watched");n.forEach((e=>{Number(e.id)===Number(a.id)&&o.remove()})),n.push(a),(0,s.saveLocalStorage)("watched",n),e.target.textContent="Remove from watched",e.target.dataset.watchedBtn="remove-from-watched",e.target.classList.add("active-btn"),t.children[1].classList.remove("active-btn")})).catch((e=>{console.log(e)})):"remove-from-watched"===e.target.dataset.watchedBtn&&B.then((o=>{const a=(0,s.loadLocalStorage)("watched"),n=a.findIndex((e=>Number(e.id)===Number(o.id)));a.splice(n,1),localStorage.removeItem("watched"),(0,s.saveLocalStorage)("watched",a),e.target.textContent="Add to watched",e.target.dataset.watchedBtn="add-to-watched",e.target.classList.add("active-btn"),t.children[1].classList.remove("active-btn")})).catch((e=>{console.log(e)}))})),g.movieModalEl.addEventListener("click",(function(e){const t=document.querySelector(".js-film-info__btns");document.querySelector(".gallery-item"),"add-to-queue"===e.target.dataset.queueBtn?B.then((o=>{const a=(0,s.loadLocalStorage)("queue");a.push(o),(0,s.saveLocalStorage)("queue",a),e.target.textContent="Remove from queue",e.target.dataset.queueBtn="remove-from-queue",e.target.classList.add("active-btn"),t.children[0].classList.remove("active-btn")})).catch((e=>{console.log(e)})):"remove-from-queue"===e.target.dataset.queueBtn&&B.then((o=>{const a=(0,s.loadLocalStorage)("queue"),n=a.findIndex((e=>Number(e.id)===Number(o.id)));a.splice(n,1),localStorage.removeItem("queue"),(0,s.saveLocalStorage)("queue",a),e.target.textContent="Add to queue",e.target.dataset.queueBtn="add-to-queue",e.target.classList.add("active-btn"),t.children[0].classList.remove("active-btn")})).catch((e=>{console.log(e)}))}));const k=document.querySelector(".watched-btn"),M=document.querySelector(".queue-btn"),x=document.querySelector(".gallery-lib-list"),_=document.querySelector(".library-container");k.addEventListener("click",T),M.addEventListener("click",(function(){if(H=JSON.parse(localStorage.getItem("queue"))||[],_.style.display="none",H.length<=0)return _.style.display="block",void(x.innerHTML="");const e=v(H);x.innerHTML=e,(0,l.renderTrailerMarkup)(N)}));let N=[],H=[];function T(){if(_.style.display="none",N=JSON.parse(localStorage.getItem("watched"))||[],N.length<=0)return _.style.display="block",void(x.innerHTML="");const e=v(N);console.log(N),x.innerHTML=e,(0,l.renderTrailerMarkup)(N)}T();let F=null,B=null;function I(e){"backdrop"!==e.target.className&&"modal__close-btn"!==e.target.classList[0]&&"icon-close"!==e.target.classList[0]&&"svg-icon-close"!==e.target.classList[0]&&"Escape"!==e.code||(g.backdropMovieModal.classList.add("is-hidden"),g.movieModalEl.classList.add("is-hidden"),g.bodyLibEl.style.overflow="scroll",g.backdropMovieModal.removeEventListener("click",I),window.removeEventListener("keydown",I))}g.backdropMovieModal.addEventListener("click",I),window.addEventListener("keydown",I),g.galleryLibListEl.addEventListener("click",(function(e){if(function(e){if("DIV"===e.target.nodeName)return void(F=e.target.dataset.id);F=e.target.parentElement.dataset.id}(e),"IMG"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName&&"SPAN"!==e.target.nodeName)return;B=(0,i.fetchDataById)(F).then((e=>{g.backdropMovieModal.classList.remove("is-hidden"),g.movieModalEl.classList.remove("is-hidden"),g.backdropMovieModal.addEventListener("click",I),window.addEventListener("keydown",I);const t=(0,c.createMoveModalMarkup)(e,F);return g.movieModalFilmInfoEl.innerHTML=t,g.bodyLibEl.style.overflow="hidden",e})).catch((e=>console.log(e)))}));
//# sourceMappingURL=library.39bb7d3e.js.map
